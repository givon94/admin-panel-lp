$(document).ready(function(){var e="../admin/api/database.json?"+(Math.floor(1e3*Math.random())+1),n=document.querySelectorAll(".main-logo"),c=document.querySelector("title"),a=document.querySelector('meta[name="title"]'),s=document.querySelector('meta[name="description"]'),u=document.querySelector('meta[name="keywords"]'),o=document.querySelector('link[rel="icon"]'),d=document.querySelector('meta[property="og:title"]'),l=document.querySelector('meta[property="og:description"]'),m=document.querySelector('meta[property="og:image:alt"]'),p=document.querySelector('meta[property="og:url"]'),h=document.querySelector('meta[property="og:image"]'),f=document.querySelectorAll(".contacts"),r=document.querySelectorAll(".top-bar__contact"),g=document.querySelector(".questions-contacts"),v=document.querySelector(".footer_contacts-content"),b=document.querySelector(".footer_contacts-item-phones"),w=window.location.pathname,y=window.location.origin+"/",w="/"===w?"index":w.slice(0,w.indexOf(".html")).replace("/",""),q=y+w+".html";!function(e,t,n){var o=2<arguments.length&&void 0!==n?n:console.error,r=new XMLHttpRequest;r.open("GET",e),r.addEventListener("readystatechange",function(){4===r.readyState&&(200===r.status?t(r.response):o(r.status))}),r.send()}(e,function(e){e=JSON.parse(e),meta=e.meta,contactsTopBar=e.contacts.filter(function(e){return e.topbar}),scriptsLists=e.scripts.lists.filter(function(e){return e.enabled}),scriptsOther=e.scripts.other.filter(function(e){return e.enabled});var t=meta.filter(function(e){return e.page===w});S(e.logo),A(t),x(e.contacts,f),x(contactsTopBar,r),L(e.email_contacts),M(e.adress,"Наш адрес","adress"),M(e.work,"Время работы","work"),o.setAttribute("href","admin/img/upload/"+e.favicon),H(e.scripts.gtm),T(scriptsLists),T(scriptsOther)});var A=function(e){var t=e[0].title,n=e[0].descr,o=e[0].keywords,r=e[0].image;c.innerHTML=t,a.setAttribute("content",t),s.setAttribute("content",n),u.setAttribute("content",o),d.setAttribute("content",t),l.setAttribute("content",n),p.setAttribute("content",q),h.setAttribute("content",y+"admin/img/upload/"+r),m.setAttribute("content",t)},S=function(t){n.forEach(function(e){e.setAttribute("src","admin/img/upload/"+t)})},x=function(r,c){for(i=0;i<r.length;i++)!function(){var t=document.createElement("div");t.classList.add("phone-number");var e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20">\n                    <use xlink:href="#icon-'.concat(r[i].operator,"\"></use>\n                </svg>\n                <a class='").concat(r[i].operator,"' href=\"tel:").concat(r[i].num.replace(/[^+\d]/g,""),'">').concat(r[i].num,"</a>\n            ");t.insertAdjacentHTML("beforeend",e);var n='\n                <span itemprop="telephone">'.concat(r[i].num.replace(/[^+\d]/g,""),"</span>\n            ");for(j=0;j<r[i].messenger.length;j++){var o='<svg class="icon-messenger" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20">\n                        <use xlink:href="#icon-'.concat(r[i].messenger[j],'"></use>\n                    </svg>');t.insertAdjacentHTML("beforeend",o)}c===f&&b.insertAdjacentHTML("beforeend",n),c.forEach(function(e){e.insertAdjacentHTML("beforeend",t.outerHTML)})}()},L=function(e){var t,n;""!==e&&(t='\n            <div class="phone-number">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="20" height="20">\n                    <use xlink:href="#icon-mail"></use>\n                </svg>\n                <a href="mailto:'.concat(e,'">').concat(e,"</a>\n            </div>\n            "),n='\n                <div class="footer_contacts-item"><span><b>Электронная почта: </b></span><br><span itemprop="email">'.concat(e,"</span></div>\n            "),f.forEach(function(e){e.insertAdjacentHTML("beforeend",t)}),v.insertAdjacentHTML("beforeend",n))},M=function(e,t,n){var o;""!==e&&(height="adress"===n?27.61:20,o='\n            <div class="questions-contacts-list">\n                <h4 class="questions-subtitle">'.concat(t,':</h4>\n                <div class="questions-').concat(n,'">\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 ').concat(height,'" width="20" height="').concat(height,'">\n                        <use xlink:href="#icon-').concat(n,'"></use>\n                    </svg>\n                    <p>').concat(e,"</p>\n                </div>\n            </div>\n            "),g.insertAdjacentHTML("beforeend",o))},T=function(e){0<e.length&&e.forEach(function(e){"beforeend"===e.position?$(e.tag).append(e.code):"afterbegin"===e.position&&$(e.tag).prepend(e.code)})},H=function(e){e.enabled&&($("head").prepend(e.code_head),$("body").append(e.code_body))}});